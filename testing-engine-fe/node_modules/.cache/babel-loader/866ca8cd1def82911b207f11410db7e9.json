{"ast":null,"code":"var _jsxFileName = \"/home/system2/testing-engine/testing-engine-fe/src/components/login/logindiv.jsx\";\nimport React from 'react';\nimport './logindiv.css';\nimport axios from 'axios';\nimport history from '../../history';\nimport swal from 'sweetalert';\n\nclass LoginDiv extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.check = e => {\n      console.log(this.state.email, this.state.password);\n\n      if (this.state.email !== \"admin\") {\n        console.log(this.props.role, this.props);\n\n        if (this.props.role === \"teacher\") {\n          axios.post('http://localhost:5000/teacher/login', {\n            email: this.state.email,\n            password: this.state.password\n          }).then(res => {\n            console.log(res); // const users = res.data;\n\n            if (res.data.success === true) {\n              console.log('details verified');\n\n              if (res.data.access === true) {\n                localStorage.setItem('user', JSON.stringify({\n                  token: res.data.token\n                }));\n                this.props.history.push({\n                  pathname: '/home'\n                });\n              } else {\n                swal(\"you have registered successfully\", \"Wait until your access is approved\", \"info\");\n              }\n            } else {\n              swal(\"invalid credentials\", \"retry again\", \"warning\");\n            }\n          });\n        }\n      } else if (this.props.role === \"student\") {\n        axios.post('http://localhost:5000/student/login', {\n          email: this.state.email,\n          password: this.state.password\n        }).then(res => {\n          console.log(res); // const users = res.data;\n\n          if (res.data.success === true) {\n            console.log('details verified');\n\n            if (res.data.access === true) {\n              localStorage.setItem('user', JSON.stringify({\n                token: res.data.token\n              }));\n              this.props.history.push({\n                pathname: '/home'\n              });\n            } else {\n              swal(\"you have registered successfully\", \"Wait until your access is approved\", \"info\");\n            } // this.props.history.push({ pathname: '/' });\n\n          } else {\n            swal(\"invalid credentials\", \"retry again\", \"warning\");\n          }\n        });\n      } else {\n        if (this.state.email === \"admin\" && this.state.password === \"admin\") {\n          console.log(\"admin\"); // localStorage.setItem('admin', id);\n          // this.props.history.push({ pathname: '/admin', state: { admin: true } });\n        } else {\n          swal(\"invalid credentials\", \"retry again\", \"warning\");\n        }\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\"\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signpage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-75\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-alignment\",\n      name: \"email\",\n      placeholder: \"Email\",\n      onChange: e => this.handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 150\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-75\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-alignment\",\n      name: \"password\",\n      placeholder: \"Password\",\n      onChange: e => this.handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 159\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"send\",\n      className: \"buttonstyle\",\n      onClick: e => this.check(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"para\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    }, \"New user?\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"buttonstyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"line\",\n      href: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 57\n      }\n    }, \"Signup\")))));\n  }\n\n}\n\nexport default LoginDiv;","map":{"version":3,"sources":["/home/system2/testing-engine/testing-engine-fe/src/components/login/logindiv.jsx"],"names":["React","axios","history","swal","LoginDiv","Component","constructor","props","check","e","console","log","state","email","password","role","post","then","res","data","success","access","localStorage","setItem","JSON","stringify","token","push","pathname","handleChange","setState","target","name","value","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './logindiv.css';\nimport axios from 'axios'\nimport history from '../../history';\nimport swal from 'sweetalert';\nclass LoginDiv extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: \"\",\n            password: \"\",\n        };\n    }\n\n    check = (e) => {\n        console.log(this.state.email, this.state.password)\n        if (this.state.email !== \"admin\") {\n            console.log(this.props.role, this.props)\n            if (this.props.role === \"teacher\") {\n                axios.post('http://localhost:5000/teacher/login', { email: this.state.email, password: this.state.password })\n                    .then(res => {\n                        console.log(res);\n                        // const users = res.data;\n                        if (res.data.success === true) {\n                            console.log('details verified')\n                            if (res.data.access === true) {\n                                localStorage.setItem('user', JSON.stringify({ token: res.data.token, }));\n                                this.props.history.push({ pathname: '/home' });\n                            }\n                            else {\n                                swal(\"you have registered successfully\", \"Wait until your access is approved\", \"info\")\n                            }\n                        }\n                        else {\n                            swal(\"invalid credentials\", \"retry again\", \"warning\");\n                        }\n                    })\n            }\n\n        }\n        else if (this.props.role === \"student\") {\n            axios.post('http://localhost:5000/student/login', { email: this.state.email, password: this.state.password })\n                .then(res => {\n                    console.log(res);\n                    // const users = res.data;\n                    if (res.data.success === true) {\n                        console.log('details verified')\n                        if (res.data.access === true) {\n                            localStorage.setItem('user', JSON.stringify({ token: res.data.token }));\n                            this.props.history.push({ pathname: '/home' });\n\n                        }\n                        else {\n                            swal(\"you have registered successfully\", \"Wait until your access is approved\", \"info\")\n                        }\n                        // this.props.history.push({ pathname: '/' });\n                    }\n                    else {\n                        swal(\"invalid credentials\", \"retry again\", \"warning\");\n                    }\n                })\n        }\n        else {\n            if (this.state.email === \"admin\" && this.state.password === \"admin\") {\n                console.log(\"admin\")\n                // localStorage.setItem('admin', id);\n                // this.props.history.push({ pathname: '/admin', state: { admin: true } });\n\n            }\n            else {\n                swal(\"invalid credentials\", \"retry again\", \"warning\");\n            }\n\n        }\n\n    }\n    handleChange = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n    };\n\n    render() {\n        return (\n            <div className=\"signpage\">\n                <div className=\"container\">\n                    {/* {(this.props.value === 0) ? <h2 className=\"heading\">Student LOGIN</h2> : <h2 className=\"heading\">Teacher LOGIN</h2>} */}\n                    <div id=\"login\">\n                        {/* <div className=\"col-25\">\n                        <label htmlFor=\"fname\">Email</label>\n                    </div> */}\n                        <div className=\"col-75\">\n                            <input type=\"email\" className=\"form-alignment\" name=\"email\" placeholder=\"Email\" onChange={(e) => this.handleChange(e)} /><br /></div>\n                        {/* <div className=\"col-25\">\n                        <label htmlFor=\"fname\">Password</label>\n                    </div> */}\n\n                        <div className=\"col-75\">\n                            <input type=\"password\" className=\"form-alignment\" name=\"password\" placeholder=\"Password\" onChange={(e) => this.handleChange(e)} /><br />\n                        </div>\n\n                        <button id=\"send\" className=\"buttonstyle\" onClick={e => this.check(e)}>Login</button>\n                        <p className=\"para\">New user?</p>\n                        <button className=\"buttonstyle\"><a className=\"line\" href=\"/signup\">Signup</a></button>\n                    </div>\n\n                </div>\n            </div>\n        )\n    }\n}\nexport default LoginDiv;"]},"metadata":{},"sourceType":"module"}